"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[371],{19024:function(ee,U,t){t.r(U),t.d(U,{default:function(){return xe}});var z=t(5574),u=t.n(z),J=t(30029),A=t(97857),B=t.n(A),W=t(15009),g=t.n(W),K=t(99289),N=t.n(K),G=t(17898),H=t(96365),V=t(20550),x=t(62435),m=t(75750),n=t(55706),i={containerStyle:"containerStyle___xoY6y",itemStyle:"itemStyle___o2ajq",inpStyle:"inpStyle___y0QTc",fountStyle:"fountStyle___C5GBU",figStyle:"figStyle___ba0i5",but1Style:"but1Style___e_blm",but2Style:"but2Style___sbgEO",tag2chick:"tag2chick___K4xZ9"},e=t(86074),v=function(a){var o=a.text,c=a.icon;return(0,e.jsx)("span",{children:(0,e.jsxs)("span",{children:[c," ",o]})})},s=["Tasks","Libraries","Datasets","Languages","Licenses","Other"],w={req_id:"1234",req_src:"source",user:"user",token:"token"},r={ip:"127.0.0.1",factor:"",time:"",extra:"extra"},P=["red","blue","green","yellow","orange"],Q=function(a,o){if(a.length!==o.length)throw new Error("error");return a.map(function(c,h){return{title:c,description:o[h]}})};function d(M){var a=M.onFilterFinance,o=(0,x.useState)([]),c=u()(o,2),h=c[0],T=c[1],b=(0,x.useState)([]),y=u()(b,2),S=y[0],O=y[1],l=(0,x.useState)(0),_=u()(l,2),I=_[0],p=_[1],$=(0,x.useState)(null),j=u()($,2),k=j[0],Te=j[1],q=function(){var L=N()(g()().mark(function C(){var F,f,D;return g()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,n.$H)(w,r);case 2:f=E.sent,console.log(f),(f==null||(F=f.result)===null||F===void 0?void 0:F.models)!=null&&f.result.ret_code==0&&a(f==null||(D=f.result)===null||D===void 0?void 0:D.models);case 5:case"end":return E.stop()}},C)}));return function(){return L.apply(this,arguments)}}();(0,x.useEffect)(function(){var L=function(){var C=N()(g()().mark(function F(){var f,D,Z,E;return g()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.prev=0,R.next=3,(0,n.MT)();case 3:f=R.sent,D=Object.keys(f.result.category),Z=Object.values(f.result.category),E=Q(D,Z),T(E),O(E),R.next=14;break;case 11:R.prev=11,R.t0=R.catch(0),console.error("fetch data failed",R.t0);case 14:case"end":return R.stop()}},F,null,[[0,11]])}));return function(){return C.apply(this,arguments)}}();L(),q()},[]);var we=function(C){C.factor===r.factor&&(C.factor=""),r.factor=C.factor,q(),Te(C.factor)},be=function(C){var F=S.map(function(f){var D=f.description.filter(function(Z){return Z.factor.toLocaleLowerCase().includes(C.target.value)});return B()(B()({},f),{},{title:D.length===0?"":f.title,description:D})});T(F)};return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:i.containerStyle,children:s.map(function(L,C){var F=I===C,f={marginRight:8,borderRadius:8,padding:"2px 3px",backgroundColor:F?"black":"white",color:F?"white":"black"};return(0,e.jsx)("span",{className:i.itemStyle,children:(0,e.jsx)("label",{onClick:function(){return p(C)},style:f,children:L})},C)})}),(0,e.jsx)("div",{children:(0,e.jsx)(H.Z,{onChange:be,placeholder:"Filter Task By Name"})}),(0,e.jsx)("div",{children:(0,e.jsx)(G.Rs,{itemLayout:"vertical",rowKey:"id",dataSource:h,metas:{title:{},description:{dataIndex:"description",title:"",render:function(C,F){var f=P.find(function(D,Z){return F.title===h[Z].title})||"blue";return F.description.map(function(D,Z){var E=D.factor;return(0,e.jsx)(V.Z,{color:f,onClick:function(){return we({factor:E})},className:k===E?i.tag2chick:"",children:(0,e.jsx)(v,{icon:(0,e.jsx)(m.Z,{}),text:E},Z)},Z)})}}}})})]})}var re=d,te=t(55555),ae=t(85060),ne=t(42798),se=t(77213),ie=t(48141),oe=function(a){return{onClick:function(){console.log(a),ie.history.push("/home/model/item?model=".concat(a.model,"&factor=").concat(a.tag))}}},le=function(a){var o=a.json;return(0,e.jsxs)("div",{children:[(0,e.jsxs)("span",{children:[(0,e.jsx)(te.Z,{})," ",o.tag]}),(0,e.jsxs)("span",{children:[(0,e.jsx)(ae.Z,{style:{color:"#1890ff"}})," ",o.time]}),(0,e.jsxs)("span",{children:[(0,e.jsx)(ne.Z,{})," ",o.download]}),(0,e.jsxs)("span",{children:[(0,e.jsx)(se.Z,{})," ",o.like]})]},o.tag)};function ue(M){var a=M.data,o=(0,x.useState)(a),c=u()(o,2),h=c[0],T=c[1];return(0,x.useEffect)(function(){var b=function(){var y=N()(g()().mark(function S(){return g()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:T(a);case 1:case"end":return l.stop()}},S)}));return function(){return y.apply(this,arguments)}}();b()},[a]),(0,e.jsx)(G.Rs,{onRow:oe,dataSource:h,pagination:{pageSize:10},showActions:"hover",metas:{title:{dataIndex:"model",title:"\u6A21\u578B\u540D\u79F0"},avatar:{dataIndex:"icon",search:!1},description:{dataIndex:"tag",search:!1,render:function(y,S){return(0,e.jsx)(le,{json:S})}}}})}var ce=ue,de=t(16198),fe=t(83097),ve={req_id:"1234",req_src:"source",user:"user",token:"token"},Y={ip:"127.0.0.1",factor:"",time:"",extra:"extra"},he=function(a){var o=Object.keys(a);return{id:"Category",children:o.map(function(c){return{id:c,value:c,children:a[c].map(function(h){return{id:h.factor,value:h.factor}})}}),value:"Category"}},pe=function(){var M=N()(g()().mark(function a(o,c,h){var T,b,y,S,O,l,_;return g()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,(0,n.MT)();case 3:if(T=p.sent,b=he(T==null?void 0:T.result.category),y=c.current,y){p.next=8;break}return p.abrupt("return");case 8:S=c.current.clientWidth,O=y.clientHeight||500,l=new de.ZP.TreeGraph({container:y,width:S,height:O,linkCenter:!0,modes:{default:[{type:"collapse-expand",onChange:function(j,k){return j?(j.getModel().collapsed=k,!0):!1}},"drag-canvas","zoom-canvas"]},defaultNode:{size:26},layout:{type:"compactBox",direction:"LR",nodeSep:30,rankSep:100,getWidth:function(j){return j.children?(console.log(j),j.children.length*20):100},radial:!0}}),_={0:"#F0E68C",1:"#ADD8E6",2:"pink"},l.node(function($){var j=$.depth||0;return{label:$.id,style:{fill:_[j]||"red"}}}),l.data(b),l.render(),l.fitView(),l.on("node:click",function($){var j,k=(j=$.item)===null||j===void 0?void 0:j.getModel();k&&(k.value===Y.factor&&(k.value=""),Y.factor=k.value,h())}),o.current=l,p.next=24;break;case 20:p.prev=20,p.t0=p.catch(0),console.error(p.t0),fe.ZP.error("\u6570\u636E\u83B7\u53D6\u5931\u8D25\uFF0C\u8BF7\u5237\u65B0\u9875\u9762\u91CD\u8BD5\uFF01");case 24:case"end":return p.stop()}},a,null,[[0,20]])}));return function(o,c,h){return M.apply(this,arguments)}}(),ge=function(a){var o=a.onFilterFinance,c=(0,x.useRef)(null),h=(0,x.useRef)(),T=function(){var b=N()(g()().mark(function y(){var S;return g()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,n.$H)(ve,Y);case 2:S=l.sent,S!=null&&o(S.result.models);case 4:case"end":return l.stop()}},y)}));return function(){return b.apply(this,arguments)}}();return(0,x.useEffect)(function(){return pe(h,c,T),function(){h.current&&h.current.destroy()}},[]),(0,e.jsx)("div",{ref:c,id:"container"})},me=ge,ye=t(39711),X=t(71577),Se=function(a){var o=a.models,c=a.onModelsChange,h=a.originalData,T=a.isActivePage,b=a.setActivePage,y=function(l){var _=h.filter(function(I){return I.model.toLowerCase().includes(l.toLowerCase())});c(_)},S=function(){b(!T)};return(0,e.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(0,e.jsx)("div",{className:i.inpStyle,children:(0,e.jsx)("h3",{className:i.fountStyle,children:"Tools"})}),(0,e.jsx)("div",{className:i.inpStyle}),(0,e.jsx)("div",{children:(0,e.jsx)(H.Z,{onChange:function(l){return y(l.target.value)},placeholder:"Filter by name"})}),(0,e.jsx)("div",{className:i.but1Style,children:(0,e.jsx)(X.Z,{onClick:function(){return S()},type:"primary",children:"\u5207\u6362\u5C55\u793A"},"sort1")}),(0,e.jsx)("div",{className:i.but2Style,children:(0,e.jsx)(X.Z,{type:"primary",children:(0,e.jsx)(ye.rU,{to:"/home/model/item",children:"\u65B0\u589E"})},"sort1")})]})},je=Se,Ce=function(){var a=(0,x.useState)(!1),o=u()(a,2),c=o[0],h=o[1],T=(0,x.useState)([]),b=u()(T,2),y=b[0],S=b[1],O=(0,x.useState)([]),l=u()(O,2),_=l[0],I=l[1],p=function(k){I(k),S(k)},$=function(k){I(k)};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(J.Z,{split:"vertical",children:[(0,e.jsx)(J.Z,{title:"",colSpan:"40%",children:c?(0,e.jsx)(me,{onFilterFinance:p}):(0,e.jsx)(re,{onFilterFinance:p})}),(0,e.jsxs)(J.Z,{title:"",split:"horizontal",headerBordered:!0,children:[(0,e.jsx)(J.Z,{title:"",headerBordered:!0,children:(0,e.jsx)(je,{models:_,onModelsChange:$,originalData:y,isActivePage:c,setActivePage:h})}),(0,e.jsx)(J.Z,{title:"",headerBordered:!0,children:(0,e.jsx)("div",{id:"container",children:(0,e.jsx)(ce,{data:_})})})]})]})})},xe=Ce},55706:function(ee,U,t){t.d(U,{$H:function(){return K},$M:function(){return B},Cq:function(){return G},DR:function(){return x},MT:function(){return N},n4:function(){return H},tA:function(){return V}});var z=t(15009),u=t.n(z),J=t(99289),A=t.n(J),B=function(){var m=A()(u()().mark(function n(i){var e,v,s;return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e={req_id:"1234",req_src:"source",user:"user",token:"token"},r.next=4,fetch("http://121.37.5.77:5003/api/upload",{method:"POST",body:JSON.stringify({header:e,data:i})});case 4:return v=r.sent,r.next=7,v.json();case 7:return s=r.sent,r.abrupt("return",{data:s.data,ret_code:s.ret_code,msg:s.msg,extra:s.extra});case 11:return r.prev=11,r.t0=r.catch(0),console.error("\u4E0A\u4F20\u6587\u4EF6\u65F6\u51FA\u9519:",r.t0),r.abrupt("return",{data:null,ret_code:-1,msg:"error",extra:""});case 15:case"end":return r.stop()}},n,null,[[0,11]])}));return function(i){return m.apply(this,arguments)}}(),W="http://121.37.5.77:5003/api",g=function(){var m=A()(u()().mark(function n(i,e,v,s){var w,r,P;return u()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,w={method:e,headers:{"Content-Type":"application/json"}},(e==="POST"||e==="PUT"||e==="DELETE")&&(w.body=JSON.stringify({header:v,data:s})),d.next=5,fetch("".concat(W,"/").concat(i),w);case 5:if(r=d.sent,r.ok){d.next=8;break}throw new Error("Network response was not ok");case 8:return d.next=10,r.json();case 10:if(P=d.sent,s){d.next=13;break}throw new Error("Response data is empty or not valid JSON");case 13:return d.abrupt("return",{result:P});case 16:d.prev=16,d.t0=d.catch(0),console.error("An error occurred:",d.t0);case 19:case"end":return d.stop()}},n,null,[[0,16]])}));return function(i,e,v,s){return m.apply(this,arguments)}}(),K=function(){var m=A()(u()().mark(function n(i,e){return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",g("models","POST",i,e));case 1:case"end":return s.stop()}},n)}));return function(i,e){return m.apply(this,arguments)}}(),N=function(){var m=A()(u()().mark(function n(){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g("category","GET",{},{}));case 1:case"end":return e.stop()}},n)}));return function(){return m.apply(this,arguments)}}(),G=function(){var m=A()(u()().mark(function n(i,e){var v,s;return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return v={req_id:"1234",req_src:"source",user:"user",token:"token"},s={ip:"127.0.0.1",factor:e,model:"author",time:"",extra:"extra"},r.abrupt("return",g("getCode","POST",v,s));case 3:case"end":return r.stop()}},n)}));return function(i,e){return m.apply(this,arguments)}}(),H=function(){var m=A()(u()().mark(function n(i,e,v,s,w){var r,P;return u()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return r={req_id:"1234",req_src:"source",user:"user",token:"token"},P={ip:"127.0.0.1",factor:i,model:e,code:v,text:s,time:"",extra:w},d.abrupt("return",g("updateCode","POST",r,P));case 3:case"end":return d.stop()}},n)}));return function(i,e,v,s,w){return m.apply(this,arguments)}}(),V=function(){var m=A()(u()().mark(function n(i,e){var v,s;return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return v={req_id:"1234",req_src:"source",user:"user",token:"token"},s={ip:"127.0.0.1",factor:e,model:"default",time:"",extra:"extra"},r.abrupt("return",g("test","POST",v,s));case 3:case"end":return r.stop()}},n)}));return function(i,e){return m.apply(this,arguments)}}(),x=function(){var m=A()(u()().mark(function n(i,e,v){var s,w;return u()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return s={req_id:"1234",req_src:"source",user:"user",token:"token"},w={ip:"127.0.0.1",factor:e,model:"default",input:v,time:"",extra:"extra"},P.abrupt("return",g("eval","POST",s,w));case 3:case"end":return P.stop()}},n)}));return function(i,e,v){return m.apply(this,arguments)}}()}}]);
