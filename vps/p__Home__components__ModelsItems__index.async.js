(self.webpackChunk=self.webpackChunk||[]).push([[122],{37031:function(ke,ce,r){"use strict";r.d(ce,{jJ:function(){return W},ND:function(){return te},bz:function(){return v},ax:function(){return de}});var le=r(62435),n={wrapList:"wrapList___xBToW",active:"active___N9m6c",personName:"personName___Nzqy1"},R=r(86074),c=function(o){var t=o.list,C=o.handleProps,ee=[{src:"https://randomuser.me/api/portraits/women/95.jpg",name:"Van Dort"},{src:"https://randomuser.me/api/portraits/men/11.jpg",name:"Naik"},{src:"https://randomuser.me/api/portraits/men/41.jpg",name:"Perrin"},{src:"https://randomuser.me/api/portraits/men/34.jpg",name:"Romero"},{src:"https://randomuser.me/api/portraits/women/40.jpg",name:"Manzanare"}],i=function(e){console.log(e,999),C(e)};return(0,R.jsx)("div",{className:n.wrapList,children:t.map(function(M,e){var g;return(0,R.jsxs)("p",{onClick:function(){return i(M)},children:[(0,R.jsx)("img",{src:M.src?M.src:(g=ee[e%5])===null||g===void 0?void 0:g.src}),(0,R.jsx)("span",{className:n.personName,children:M.role})]},M.role+e)})})},W=c,L=r(19632),V=r.n(L),Y=r(5574),pe=r.n(Y),ie=function(o){var t=o.list,C=o.handleProps,ee=(0,le.useState)([]),i=pe()(ee,2),M=i[0],e=i[1],g=[{src:"https://www.stratosphere.io/assets/images/search/logos/AAPL.svg",name:"Apple Inc."},{src:"https://www.stratosphere.io/assets/images/search/logos/2222.SR.svg",name:"Saudi Arabian Oil Company"},{src:"https://www.stratosphere.io/assets/images/search/logos/MSFT.svg",name:"Microsoft Corporation"},{src:"https://www.stratosphere.io/assets/images/search/logos/AMZN.svg",name:"Amazon.com, Inc."},{src:"https://www.stratosphere.io/assets/images/search/logos/TSLA.svg",name:"Tesla, Inc."}],h=function(G){var I=V()(M),K=I.findIndex(function(ve){return ve.company===G.company});K!==-1?I.splice(K,1):I.push(G),e(I),C(I)};return(0,R.jsx)("div",{className:n.wrapList,children:t.map(function(J,G){var I;return(0,R.jsxs)("p",{className:M.some(function(K){return K.company===J.company})?n.active:"",onClick:function(){return h(J)},children:[(0,R.jsx)("img",{src:J.src?J.src:(I=g[G%5])===null||I===void 0?void 0:I.src}),J.company]},J.company+G)})})},te=ie,Q=function(o){var t=o.list,C=o.handleProps,ee=function(M){console.log(M,999),C(M)};return(0,R.jsx)("div",{className:n.wrapList,children:t.map(function(i,M){return(0,R.jsx)("p",{onClick:function(){return ee(i)},children:(0,R.jsx)("span",{className:n.personName,children:i})},i+M)})})},de=Q,b=r(79011);function d(u){var o=u.chartData;console.log(o,123);var t=(0,le.useRef)(null);return(0,le.useEffect)(function(){console.log(o,12312);var C=b.init(t.current),ee={title:{text:"ECharts \u793A\u4F8B\u56FE\u8868"},xAxis:{type:"category",data:["A","B","C","D","E"]},yAxis:{type:"value"},series:[{name:"\u793A\u4F8B\u6570\u636E",type:"bar",data:[5,10,15,20,25]}]};return C.setOption(ee),function(){C.dispose()}},[o]),(0,R.jsx)("div",{ref:t,style:{width:"100%",height:"400px"}})}var v=d,l=function(){var o=["Racing car sprays burning fuel into crowd.","Japanese princess to wed commoner.","Australian walks 100km after outback crash.","Man charged over missing wedding girl.","Los Angeles battles huge wildfires."];return _jsx(List,{size:"small",bordered:!0,dataSource:o,renderItem:function(C){return _jsxs(List.Item,{children:[C,_jsx(EditOutlined,{style:{margin:"0 0 0 8px"}})]})}})},S=null},41326:function(ke,ce,r){"use strict";r.r(ce),r.d(ce,{default:function(){return He}});var le=r(5574),n=r.n(le),R=r(40323),c=r(62435),W=r(15009),L=r.n(W),V=r(99289),Y=r.n(V),pe=r(19632),ie=r.n(pe),te=r(96974),Q=r(55706),de=r(29656),b=r(30029),d=r(51018),v=r(83097),l=r(84908),S=r(15746),u=r(71577),o=r(96365),t=r(71230),C=r(56717),ee=r(71749),i=r(26594),M=r(5321),e=r(86074);function g(){var Se=(0,te.TH)(),re=new URLSearchParams(Se.search),$=(0,c.useState)(re.get("model")||""),A=n()($,2),H=A[0],he=A[1],ne=(0,c.useState)(re.get("factor")||""),B=n()(ne,2),w=B[0],x=B[1],N=(0,c.useState)(!1),X=n()(N,2),U=X[0],f=X[1],E=(0,c.useState)([!1,!1]),k=n()(E,2),D=k[0],q=k[1],se=(0,c.useState)(""),ae=n()(se,2),oe=ae[0],ue=ae[1],Ce=(0,c.useState)(""),Fe=n()(Ce,2),xe=Fe[0],je=Fe[1],Pe=d.Z.useForm(),Te=n()(Pe,1),Ae=Te[0],Ee=function(p,a){q(function(j){var s=ie()(j);return s[p]=a,s})},we=function(){var m=Y()(L()().mark(function p(){var a;return L()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Ae.validateFields();case 3:s.next=9;break;case 5:return s.prev=5,s.t0=s.catch(0),v.ZP.error("\u8868\u5355\u9A8C\u8BC1\u5931\u8D25"),s.abrupt("return");case 9:if(U){s.next=29;break}return s.prev=10,Ee(0,!0),s.next=14,(0,Q.n4)(w,H,oe,xe,"");case 14:a=s.sent,console.log(a),console.log(a&&a.result&&a.result.ret_code===0),a&&a.result&&a.result.ret_code===0?(ue(a.result.data.code),je(a.result.data.text),v.ZP.success("\u63D0\u4EA4\u6210\u529F")):v.ZP.error("\u63D0\u4EA4\u5931\u8D25"),s.next=24;break;case 20:return s.prev=20,s.t1=s.catch(10),console.error("updateCode failed:",s.t1),s.abrupt("return");case 24:return s.prev=24,Ee(0,!1),s.finish(24);case 27:s.next=30;break;case 29:v.ZP.error("\u5F53\u524D\u6B63\u5728\u7F16\u8F91\uFF0C\u63D0\u4EA4\u5931\u8D25");case 30:case"end":return s.stop()}},p,null,[[0,5],[10,20,24,27]])}));return function(){return m.apply(this,arguments)}}(),Re=function(){var m=Y()(L()().mark(function p(){var a;return L()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(H&&w)){s.next=9;break}return s.next=3,(0,Q.Cq)(w,H);case 3:a=s.sent,a==null||a.result,ue(a==null?void 0:a.result.models.code),je(a==null?void 0:a.result.models.text),s.next=11;break;case 9:ue(""),je("");case 11:case"end":return s.stop()}},p)}));return function(){return m.apply(this,arguments)}}(),F=function(){he(""),x(""),(0,Q.n4)(w,oe,"","","action='delete'")},y=function(){Ee(1,!0),setTimeout(function(){f(function(p){return!p}),Ee(1,!1)},500)},Z=function(p){var a=p.title;return(0,e.jsx)(l.Z,{title:a,children:(0,e.jsx)(C.Z,{style:{color:"rgba(0,0,0,.45)"}})})},P=function(p){var a=p.loadingIndex,j=p.clickHandler,s=p.children;return(0,e.jsx)(S.Z,{span:2,children:(0,e.jsx)(u.Z,{type:"primary",loading:D[a],onClick:j,children:s})})},z=function(p){var a=p.name,j=p.label,s=p.isEditing;return(0,e.jsx)(S.Z,{span:10,children:(0,e.jsx)(d.Z.Item,{name:a,label:j,rules:[{required:!0}],hasFeedback:!0,children:(0,e.jsx)(o.Z,{suffix:(0,e.jsx)(Z,{title:"Enter Your ".concat(a)}),disabled:!s})})})};return(0,c.useEffect)(function(){Re()},[]),(0,e.jsxs)(b.Z,{split:"horizontal",children:[(0,e.jsx)(d.Z,{form:Ae,onFinish:we,initialValues:{Model:H,Factor:w},children:(0,e.jsxs)(d.Z.Item,{children:[(0,e.jsxs)(t.Z,{gutter:0,children:[(0,e.jsx)(P,{loadingIndex:0,clickHandler:we,children:"Submit"}),(0,e.jsx)(P,{loadingIndex:1,clickHandler:y,children:U?"Save":"Editing"}),(0,e.jsx)(P,{loadingIndex:2,clickHandler:function(){F()},children:"Delete"})]}),(0,e.jsx)("br",{}),(0,e.jsxs)(t.Z,{gutter:16,children:[(0,e.jsx)(z,{name:"Model",label:"Model",isEditing:U}),(0,e.jsx)(z,{name:"Factor",label:"Factor",isEditing:U})]})]})}),(0,e.jsx)(de.fk,{value:oe,options:{mode:"python",theme:"material",lineNumbers:!0},onBeforeChange:function(p,a,j){U&&ue(j)}}),(0,e.jsx)("br",{}),(0,e.jsx)(de.fk,{value:xe,options:{mode:"txt",theme:"material",lineNumbers:!0},onBeforeChange:function(p,a,j){je(j)}})]})}var h=g,J=r(7426),G=r(64082),I=J.Z.Dragger,K=function(){var re=(0,c.useState)([]),$=n()(re,2),A=$[0],H=$[1],he=function(){var B=Y()(L()().mark(function w(x){var N,X;return L()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return N=new FormData,N.append("file",x.file),f.prev=2,f.next=5,(0,Q.$M)(x.file);case 5:X=f.sent,X.ret_code==0?x.onSuccess(X,x.file):x.onError(new Error("\u4E0A\u4F20\u5931\u8D25"),null),f.next=12;break;case 9:f.prev=9,f.t0=f.catch(2),x.onError(f.t0,null);case 12:case"end":return f.stop()}},w,null,[[2,9]])}));return function(x){return B.apply(this,arguments)}}(),ne=function(w){var x=ie()(w.fileList);x=x.slice(-2),x=x.map(function(N){return N.response?(N.url=N.response.data.url,N.status="done"):N.status="error",N}),H(x)};return(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{children:"\u6587\u4EF6\u4E0A\u4F20\u548C\u4E0B\u8F7D\u754C\u9762"}),(0,e.jsxs)(I,{name:"file",customRequest:he,onChange:ne,fileList:A,children:[(0,e.jsx)("p",{className:"ant-upload-drag-icon",children:(0,e.jsx)(G.Z,{})}),(0,e.jsx)("p",{className:"ant-upload-text",children:"\u70B9\u51FB\u6216\u62D6\u52A8\u6587\u4EF6\u5230\u6B64\u533A\u57DF\u8FDB\u884C\u4E0A\u4F20"}),(0,e.jsx)("p",{className:"ant-upload-hint",children:"\u652F\u6301\u5355\u4E2A\u6216\u6279\u91CF\u4E0A\u4F20\u3002\u4E25\u7981\u4E0A\u4F20\u516C\u53F8\u6570\u636E\u6216\u5176\u4ED6\u6076\u610F\u6587\u4EF6\u3002"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{children:"\u5DF2\u4E0A\u4F20\u6587\u4EF6\uFF1A"}),(0,e.jsx)("ul",{children:A.map(function(B){return(0,e.jsx)("li",{children:(0,e.jsx)("a",{href:B.url,target:"_blank",rel:"noopener noreferrer",children:B.name})},B.uid)})})]})]})},ve=K,fe=r(52677),ye=r.n(fe),me=r(66284),ge=r(59652),be=r(37031),O={wrapFinchat:"wrapFinchat___oUoxH",left:"left___yH0vZ","scrollable-div":"scrollable-div___u0D7S",right:"right___FMmX0",bottom:"bottom___T6REe",content:"content___sBaBs",user:"user___tffLW",blink:"blink___Jxxng"},Le=r(90489),Me=r(48141),T=o.Z.Search,De=function(){var re=(0,te.TH)(),$=new URLSearchParams(re.search),A=$.get("model"),H=$.get("factor"),he=(0,c.useState)([]),ne=n()(he,2),B=ne[0],w=ne[1],x=(0,c.useState)(""),N=n()(x,2),X=N[0],U=N[1],f=(0,c.useState)([]),E=n()(f,2),k=E[0],D=E[1],q=(0,Me.useModel)("@@initialState"),se=q.initialState.currentUser,ae={user:se.username,req_id:se.id,req_src:se.avatarUrl,token:se.token},oe=function(y){y.length===1?Te(H,A,y[0].company):Te(H,A,y[1].company),y.splice(0,y.length-1)},ue=function(){X&&(Te(H,A,X),U(""))},Ce=function(y){U(y.target.value)},Fe=(0,c.useState)([]),xe=n()(Fe,2),je=xe[0],Pe=xe[1],Te=function(){var F=Y()(L()().mark(function y(Z,P,z){var m,p;return L()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,j.next=3,(0,Q.DR)("",P,z);case 3:return m=j.sent,p=Re(m==null?void 0:m.result),Pe([]),Pe(function(s){return[].concat(ie()(s),[p])}),j.abrupt("return",p);case 10:j.prev=10,j.t0=j.catch(0),console.error(j.t0),v.ZP.error("\u83B7\u53D6\u6570\u636E\u5931\u8D25"+j.t0);case 14:case"end":return j.stop()}},y,null,[[0,10]])}));return function(Z,P,z){return F.apply(this,arguments)}}(),Ae=function(){var F=Y()(L()().mark(function y(){var Z,P,z,m;return L()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Le.Np.fetchSidebar({header:ae});case 3:Z=a.sent,P=Z.output||{},z=P.stock_list,m=z===void 0?[]:z,D(m),w(m),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0,"error");case 12:case"end":return a.stop()}},y,null,[[0,9]])}));return function(){return F.apply(this,arguments)}}(),Ee=function(){var F=Y()(L()().mark(function y(Z){var P,z,m;return L()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,Z){a.next=4;break}return w(k),a.abrupt("return");case 4:return a.next=6,Le.Np.queryCompany({header:ae,data:{query:Z}});case 6:z=a.sent,m=((P=z.output)===null||P===void 0?void 0:P.result)||[],w(m),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),v.ZP.error(a.t0===null||a.t0===void 0?void 0:a.t0.msg);case 14:case"end":return a.stop()}},y,null,[[0,11]])}));return function(Z){return F.apply(this,arguments)}}(),we=_.debounce(function(F){var y=F.target.value;if(!y){w(k);return}var Z=B.filter(function(P){return P.company.indexOf(y)!==-1});w(Z)},1e3),Re=function(y){var Z,P;if(ye()(y)!=="object"||y===null)throw new Error("Unexpected value in response");var z=JSON.parse(y.data||"{}"),m=(Z=z.output)===null||Z===void 0?void 0:Z.answer;m=m.replace(/\n/g,"<br>");var p=(P=z.output)===null||P===void 0?void 0:P.chart;return{sender:"bot",content:m,chart:p}};return(0,c.useEffect)(function(){Ae(),Te(H,A,"")},[]),(0,e.jsxs)("div",{className:O.wrapFinchat,children:[(0,e.jsxs)("div",{className:O.left,children:[(0,e.jsx)("h3",{style:{margin:"18px"},children:A}),(0,e.jsx)(T,{placeholder:"Search Companies",allowClear:!0,onSearch:Ee,onChange:we,style:{width:"80%",margin:"0 0 12px 0"}}),(0,e.jsx)(be.ND,{list:B,handleProps:oe})]}),(0,e.jsxs)("div",{className:O.right,children:[(0,e.jsxs)("div",{className:O.bottom,children:[(0,e.jsx)(o.Z,{placeholder:"Send a companies",allowClear:!0,value:X,onPressEnter:ue,onChange:Ce}),(0,e.jsx)(u.Z,{type:"primary",onClick:ue,children:"send"})]}),(0,e.jsx)("div",{className:O.content,children:je.map(function(F,y){return(0,e.jsxs)("div",{className:O.user,children:[F.chart&&Object.keys(F.chart).length>0&&(0,e.jsx)(ge.Z,{style:{width:"100%"},children:(0,e.jsx)(me.Z,{option:F.chart,style:{height:"300px"}})}),(0,e.jsx)(ge.Z,{style:{width:"100%",margin:"10px 0 0 0"},children:F.content&&(0,e.jsx)("div",{style:{padding:"0 16px 0 16px"},dangerouslySetInnerHTML:{__html:F.content}})})]},y)})})]})]})},Ie=De,Oe=r(97857),Ne=r.n(Oe),Ue=r(24837),Ze=function(){var re=(0,c.useState)(null),$=n()(re,2),A=$[0],H=$[1],he=function(f){var E=f.relation,k=f.nodes,D=Object.entries(k).map(function(q){var se=n()(q,2),ae=se[0],oe=se[1];return{id:ae,value:{title:ae+" ",items:oe}}});return{nodes:D,edges:E}},ne=(0,te.TH)(),B=new URLSearchParams(ne.search),w=B.get("model"),x=B.get("factor"),N=function(){var U=Y()(L()().mark(function f(){return L()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,(0,Q.tA)(x,w).then(function(D){if((D==null?void 0:D.result.ret_code)===0){var q=he(D.result.data.chart);H(q)}}).catch(function(D){console.error("Error fetching data:",D)});case 2:case"end":return k.stop()}},f)}));return function(){return U.apply(this,arguments)}}();if((0,c.useEffect)(function(){N()},[]),A===null)return(0,e.jsx)("div",{});console.log(A);var X={data:A,nodeCfg:{size:[180,30],items:{padding:6,containerStyle:{fill:"#fff"}},customContent:function(f,E,k){var D=k.startX,q=k.startY,se=k.width,ae=f.text,oe=f.value,ue=f.icon,Ce=f.trend;return ae&&(E==null||E.addShape("text",{attrs:{textBaseline:"top",x:D,y:q,text:ae,fill:"#aaa"},name:"text-".concat(Math.random())})),oe&&(E==null||E.addShape("text",{attrs:{textBaseline:"top",x:D+60,y:q,text:oe,fill:"#000"},name:"value-".concat(Math.random())})),ue&&(E==null||E.addShape("image",{attrs:{x:D+100,y:q,width:8,height:10,img:ue},name:"image-".concat(Math.random())})),Ce&&(E==null||E.addShape("text",{attrs:{textBaseline:"top",x:D+110,y:q,text:Ce,fill:"#f00"},name:"value-".concat(Math.random())})),14},nodeStateStyles:{hover:{stroke:"#1890ff",lineWidth:2}},title:{containerStyle:{fill:"transparent"},style:{fill:"#000",fontSize:12}},style:{fill:"#E6EAF1",stroke:"#B2BED5",radius:2}},edgeCfg:{label:{style:{fill:"#aaa",fontSize:12,fillOpacity:.5}},edgeStateStyles:{hover:{stroke:"#1890ff",lineWidth:2}}},markerCfg:function(f){var E=A.edges;return{position:"right",show:E.find(function(k){return k.source===f.id})}},layout:{ranksepFunc:function(){return 30},nodesepFunc:function(){return 30}},behaviors:["drag-canvas","zoom-canvas","drag-node"]};return(0,e.jsx)(Ue.Z,Ne()({},X))},$e=Ze,He=function(){var Se=(0,c.useState)("Code"),re=n()(Se,2),$=re[0],A=re[1],H=function(ne){A(ne)};return(0,e.jsx)("div",{style:{background:"#F5F7FA",paddingBlock:30},children:(0,e.jsxs)(R._z,{header:{title:"Tools",ghost:!0,breadcrumb:{routes:[{path:"",breadcrumbName:"Open Finance"},{path:"",breadcrumbName:"Tools"}]}},tabList:[{tab:"Model Code",key:"Code",closable:!1},{tab:"Files and versions",key:"Files",closable:!1},{tab:"Data",key:"Data",closable:!1}],onTabChange:H,children:[$==="Code"&&(0,e.jsx)(h,{}),$==="Files"&&(0,e.jsx)(ve,{}),$==="Data"&&(0,e.jsx)(Ie,{}),$==="Test"&&(0,e.jsx)($e,{})]})})}},55706:function(ke,ce,r){"use strict";r.d(ce,{$H:function(){return Y},$M:function(){return W},Cq:function(){return ie},DR:function(){return de},MT:function(){return pe},n4:function(){return te},tA:function(){return Q}});var le=r(15009),n=r.n(le),R=r(99289),c=r.n(R),W=function(){var b=c()(n()().mark(function d(v){var l,S,u;return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,l={req_id:"1234",req_src:"source",user:"user",token:"token"},t.next=4,fetch("http://121.37.5.77:5003/api/upload",{method:"POST",body:JSON.stringify({header:l,data:v})});case 4:return S=t.sent,t.next=7,S.json();case 7:return u=t.sent,t.abrupt("return",{data:u.data,ret_code:u.ret_code,msg:u.msg,extra:u.extra});case 11:return t.prev=11,t.t0=t.catch(0),console.error("\u4E0A\u4F20\u6587\u4EF6\u65F6\u51FA\u9519:",t.t0),t.abrupt("return",{data:null,ret_code:-1,msg:"error",extra:""});case 15:case"end":return t.stop()}},d,null,[[0,11]])}));return function(v){return b.apply(this,arguments)}}(),L="http://121.37.5.77:5003/api",V=function(){var b=c()(n()().mark(function d(v,l,S,u){var o,t,C;return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,o={method:l,headers:{"Content-Type":"application/json"}},(l==="POST"||l==="PUT"||l==="DELETE")&&(o.body=JSON.stringify({header:S,data:u})),i.next=5,fetch("".concat(L,"/").concat(v),o);case 5:if(t=i.sent,t.ok){i.next=8;break}throw new Error("Network response was not ok");case 8:return i.next=10,t.json();case 10:if(C=i.sent,u){i.next=13;break}throw new Error("Response data is empty or not valid JSON");case 13:return i.abrupt("return",{result:C});case 16:i.prev=16,i.t0=i.catch(0),console.error("An error occurred:",i.t0);case 19:case"end":return i.stop()}},d,null,[[0,16]])}));return function(v,l,S,u){return b.apply(this,arguments)}}(),Y=function(){var b=c()(n()().mark(function d(v,l){return n()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",V("models","POST",v,l));case 1:case"end":return u.stop()}},d)}));return function(v,l){return b.apply(this,arguments)}}(),pe=function(){var b=c()(n()().mark(function d(){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",V("category","GET",{},{}));case 1:case"end":return l.stop()}},d)}));return function(){return b.apply(this,arguments)}}(),ie=function(){var b=c()(n()().mark(function d(v,l){var S,u;return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return S={req_id:"1234",req_src:"source",user:"user",token:"token"},u={ip:"127.0.0.1",factor:l,model:"author",time:"",extra:"extra"},t.abrupt("return",V("getCode","POST",S,u));case 3:case"end":return t.stop()}},d)}));return function(v,l){return b.apply(this,arguments)}}(),te=function(){var b=c()(n()().mark(function d(v,l,S,u,o){var t,C;return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t={req_id:"1234",req_src:"source",user:"user",token:"token"},C={ip:"127.0.0.1",factor:v,model:l,code:S,text:u,time:"",extra:o},i.abrupt("return",V("updateCode","POST",t,C));case 3:case"end":return i.stop()}},d)}));return function(v,l,S,u,o){return b.apply(this,arguments)}}(),Q=function(){var b=c()(n()().mark(function d(v,l){var S,u;return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return S={req_id:"1234",req_src:"source",user:"user",token:"token"},u={ip:"127.0.0.1",factor:l,model:"default",time:"",extra:"extra"},t.abrupt("return",V("test","POST",S,u));case 3:case"end":return t.stop()}},d)}));return function(v,l){return b.apply(this,arguments)}}(),de=function(){var b=c()(n()().mark(function d(v,l,S){var u,o;return n()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return u={req_id:"1234",req_src:"source",user:"user",token:"token"},o={ip:"127.0.0.1",factor:l,model:"default",input:S,time:"",extra:"extra"},C.abrupt("return",V("eval","POST",u,o));case 3:case"end":return C.stop()}},d)}));return function(v,l,S){return b.apply(this,arguments)}}()},90489:function(ke,ce,r){"use strict";r.d(ce,{Np:function(){return C},Jf:function(){return i},cX:function(){return M}});var le=r(12444),n=r.n(le),R=r(72004),c=r.n(R),W={GET_CAPTCHA:"/getCaptcha",MODEL:"/category",LOGIN:"/login",SIDEBAR:"/sidebar",HISTORY:"/history",CREATE_ARTICLE:"/article/createArticle",QUERY_COMPANY:"/search"},L=r(15009),V=r.n(L),Y=r(99289),pe=r.n(Y),ie=r(9669),te=r.n(ie),Q=r(80129),de=r.n(Q),b=te().CancelToken,d=b.source(),v={baseURL:"http://121.37.5.77:5005/api",timeout:1e3*60*5,retry:0,retryDelay:1e3,paramsSerializer:function(g){return de().stringify(g)}},l=te().create(v);l.interceptors.request.use(function(e){return e}),l.interceptors.response.use(function(e){return e},function(e){return e.message.includes("timeout"),Promise.reject(e)});var S=!1,u=function(){var e=pe()(V()().mark(function g(h){var J,G,I,K,ve,fe,ye,me,ge,be,O,Le;return V()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return J=h.baseURL,G=h.headers,I=G===void 0?{}:G,K=h.url,ve=h.method,fe=h.data,ye=fe===void 0?{}:fe,me=h.params,ge=h.responseType,T.prev=1,T.next=4,l({baseURL:J,headers:I,url:K,method:ve,data:ye,params:me,responseType:ge});case 4:if(be=T.sent,be.status!==200){T.next=17;break}if(O=be.data,typeof O!="string"){T.next=9;break}return T.abrupt("return",O);case 9:if(!(O.ret_code===0||O.code===200||O.code===0)){T.next=13;break}return T.abrupt("return",Promise.resolve(O));case 13:return console.log(O,"resp"),T.abrupt("return",Promise.reject(O));case 15:T.next=19;break;case 17:return Le={message:"\u670D\u52A1\u5668\u5F00\u5C0F\u5DEE~\u8BF7\u7A0D\u540E\u518D\u8BD5",code:-1},T.abrupt("return",Promise.reject(Le));case 19:T.next=27;break;case 21:if(T.prev=21,T.t0=T.catch(1),console.log(T.t0),!S){T.next=26;break}return T.abrupt("return");case 26:S=!0;case 27:case"end":return T.stop()}},g,null,[[1,21]])}));return function(h){return e.apply(this,arguments)}}(),o=function(g){var h=g.baseURL,J=h===void 0?"http://121.37.5.77:5005/api":h,G=g.method,I=G===void 0?"GET":G,K=g.url,ve=g.data,fe=g.params,ye=g.responseType,me=g.headers,ge=me===void 0?{"Content-Type":"application/json"}:me;return u({baseURL:J,method:I,url:K,data:ve,params:fe,responseType:ye,headers:ge})},t=null,C=function(){function e(){n()(this,e)}return c()(e,null,[{key:"fetchSidebar",value:function(h){return o({method:"POST",url:W.SIDEBAR,data:h})}},{key:"fetchHistoryList",value:function(h){return o({method:"POST",url:W.HISTORY,data:h})}},{key:"queryCompany",value:function(h){return o({method:"POST",url:W.QUERY_COMPANY,data:h})}}]),e}(),ee=null,i=function(){function e(){n()(this,e)}return c()(e,null,[{key:"getCaptcha",value:function(h){return o({url:W.GET_CAPTCHA,params:h,baseURL:"http://39.101.71.109/app-api"})}},{key:"login",value:function(h){return o({method:"POST",url:W.LOGIN,data:h,baseURL:"http://39.101.71.109/app-api"})}}]),e}(),M=function(){function e(){n()(this,e)}return c()(e,null,[{key:"createArticle",value:function(h){return o({method:"POST",url:W.CREATE_ARTICLE,data:h})}}]),e}()},24654:function(){}}]);
