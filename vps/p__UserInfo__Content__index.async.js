(self.webpackChunk=self.webpackChunk||[]).push([[712],{20814:function(F,L,e){"use strict";e.r(L),e.d(L,{default:function(){return H}});var b=e(40323),y=e(15009),P=e.n(y),C=e(99289),f=e.n(C),G=e(5574),T=e.n(G),N=e(62592),M=e(90489),U=e(23814),I=e(71230),Y=e(71577),m=e(62435),o=e(86074);function B(){var j=JSON.parse(sessionStorage.getItem("content")),u="";(j||[]).forEach(function(s){u+='<p><span style="color:rgb(225, 60, 57);">'.concat(s.sender,":  </span>").concat(s.content,"</p>")});var Q=(0,m.useState)(null),O=T()(Q,2),l=O[0],x=O[1],D=(0,m.useState)(u),r=T()(D,2),n=r[0],t=r[1];(0,m.useEffect)(function(){},[]);var p={},v={placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9..."},E=function(){l!=null&&l.insertText(" hello ")},R=function(){l!=null&&console.log(l.getHtml())};(0,m.useEffect)(function(){return function(){l!=null&&(l.destroy(),x(null))}},[l]);var g=function(){var s=f()(P()().mark(function i(){var h;return P()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,M.cX.createArticle({title:"",content:sessionStorage.getItem("content")});case 2:h=c.sent,console.log(h,"res");case 4:case"end":return c.stop()}},i)}));return function(){return s.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{style:{border:"1px solid #ccc",zIndex:100},children:[(0,o.jsx)(U.o,{editor:l,defaultConfig:p,mode:"default",style:{borderBottom:"1px solid #ccc"}}),(0,o.jsx)(U.M,{defaultConfig:v,value:n,onCreated:x,onChange:function(i){return t(i.getHtml())},mode:"default",style:{height:"500px",overflowY:"hidden"}})]}),(0,o.jsx)(I.Z,{justify:"end",style:{margin:"12px 0 0"},children:(0,o.jsx)(Y.Z,{onClick:g,children:"\u4E00\u952E\u53D1\u5E03\u5185\u5BB9"})})]})}var $=B,S=function(u){return console.log(u),(0,o.jsx)(b._z,{ghost:!0,children:(0,o.jsx)($,{})})},H=S},90489:function(F,L,e){"use strict";e.d(L,{Np:function(){return O},Jf:function(){return x},cX:function(){return D}});var b=e(12444),y=e.n(b),P=e(72004),C=e.n(P),f={GET_CAPTCHA:"/getCaptcha",MODEL:"/category",LOGIN:"/login",SIDEBAR:"/sidebar",HISTORY:"/history",CREATE_ARTICLE:"/article/createArticle",QUERY_COMPANY:"/search"},G=e(15009),T=e.n(G),N=e(99289),M=e.n(N),U=e(9669),I=e.n(U),Y=e(80129),m=e.n(Y),o=I().CancelToken,B=o.source(),$={baseURL:"http://121.37.5.77:5005/api",timeout:1e3*60*5,retry:0,retryDelay:1e3,paramsSerializer:function(n){return m().stringify(n)}},S=I().create($);S.interceptors.request.use(function(r){return r}),S.interceptors.response.use(function(r){return r},function(r){return r.message.includes("timeout"),Promise.reject(r)});var H=!1,j=function(){var r=M()(T()().mark(function n(t){var p,v,E,R,g,s,i,h,A,c,d,z;return T()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return p=t.baseURL,v=t.headers,E=v===void 0?{}:v,R=t.url,g=t.method,s=t.data,i=s===void 0?{}:s,h=t.params,A=t.responseType,a.prev=1,a.next=4,S({baseURL:p,headers:E,url:R,method:g,data:i,params:h,responseType:A});case 4:if(c=a.sent,c.status!==200){a.next=17;break}if(d=c.data,typeof d!="string"){a.next=9;break}return a.abrupt("return",d);case 9:if(!(d.ret_code===0||d.code===200||d.code===0)){a.next=13;break}return a.abrupt("return",Promise.resolve(d));case 13:return console.log(d,"resp"),a.abrupt("return",Promise.reject(d));case 15:a.next=19;break;case 17:return z={message:"\u670D\u52A1\u5668\u5F00\u5C0F\u5DEE~\u8BF7\u7A0D\u540E\u518D\u8BD5",code:-1},a.abrupt("return",Promise.reject(z));case 19:a.next=27;break;case 21:if(a.prev=21,a.t0=a.catch(1),console.log(a.t0),!H){a.next=26;break}return a.abrupt("return");case 26:H=!0;case 27:case"end":return a.stop()}},n,null,[[1,21]])}));return function(t){return r.apply(this,arguments)}}(),u=function(n){var t=n.baseURL,p=t===void 0?"http://121.37.5.77:5005/api":t,v=n.method,E=v===void 0?"GET":v,R=n.url,g=n.data,s=n.params,i=n.responseType,h=n.headers,A=h===void 0?{"Content-Type":"application/json"}:h;return j({baseURL:p,method:E,url:R,data:g,params:s,responseType:i,headers:A})},Q=null,O=function(){function r(){y()(this,r)}return C()(r,null,[{key:"fetchSidebar",value:function(t){return u({method:"POST",url:f.SIDEBAR,data:t})}},{key:"fetchHistoryList",value:function(t){return u({method:"POST",url:f.HISTORY,data:t})}},{key:"queryCompany",value:function(t){return u({method:"POST",url:f.QUERY_COMPANY,data:t})}}]),r}(),l=null,x=function(){function r(){y()(this,r)}return C()(r,null,[{key:"getCaptcha",value:function(t){return u({url:f.GET_CAPTCHA,params:t,baseURL:"http://39.101.71.109/app-api"})}},{key:"login",value:function(t){return u({method:"POST",url:f.LOGIN,data:t,baseURL:"http://39.101.71.109/app-api"})}}]),r}(),D=function(){function r(){y()(this,r)}return C()(r,null,[{key:"createArticle",value:function(t){return u({method:"POST",url:f.CREATE_ARTICLE,data:t})}}]),r}()},24654:function(){}}]);
